{"version":3,"sources":["Components/Header.tsx","api.ts","utils.ts","Routes/Home.tsx","Routes/Search.tsx","Routes/Tv.tsx","App.tsx","index.tsx","theme.ts"],"names":["Nav","styled","motion","nav","Col","div","Logo","svg","props","theme","red","Items","ul","Item","li","white","darker","lighter","Search","form","Input","input","Circle","span","logoVariants","normal","fillOpacity","active","transtition","repeat","Infinity","navVariants","top","backgroundColor","scroll","Header","useState","searchOpen","setSearchOpen","homeMatch","useMatch","tvMatch","navAnimation","useAnimation","inputAnimation","scrollY","useViewportScroll","useEffect","onChange","get","start","navigator","useNavigate","useForm","register","handleSubmit","variants","animate","initial","whileHover","xmlns","width","height","viewBox","path","d","to","layoutId","onSubmit","data","console","log","keyword","onClick","scaleX","prev","x","transition","type","fill","fillRule","required","minLength","placeholder","getMovies","fetch","then","response","json","makeImagePath","id","format","Wrapper","Loader","Banner","bgPhoto","Title","h2","Overview","p","Slider","Row","Box","Info","black","Overlay","BigMovie","BigCover","BigTitle","h3","BigOverview","rowVariants","hidden","window","innerWidth","visible","exit","BoxVariants","scale","hover","y","delay","duration","InfoVarinats","opacity","Home","bigMovieMatch","useQuery","isLoading","index","setIndex","leaving","setLeaving","toggleLeaving","clickedMovie","params","movieId","results","find","movie","String","totalMovies","length","maxIndex","Math","floor","backdrop_path","title","overview","AnimatePresence","onExitComplete","slice","map","style","location","useLocation","URLSearchParams","search","Tv","App","element","GlobalStyle","createGlobalStyle","client","QueryClient","ReactDOM","render","StrictMode","veryDark","document","getElementById"],"mappings":"0RAMMA,EAAMC,YAAOC,IAAOC,IAAdF,CAAH,oQAYHG,EAAMH,IAAOI,IAAV,0EAIHC,EAAOL,YAAOC,IAAOK,IAAdN,CAAH,iLAIE,SAAAO,GAAK,OAAIA,EAAMC,MAAMC,OAM3BC,EAAQV,IAAOW,GAAV,0EAILC,EAAOZ,IAAOa,GAAV,kQAEG,SAAAN,GAAK,OAAIA,EAAMC,MAAMM,MAAMC,UAOvB,SAAAR,GAAK,OAAIA,EAAMC,MAAMM,MAAME,WAGtCC,EAASjB,IAAOkB,KAAV,+JAUNC,EAAQnB,YAAOC,IAAOmB,MAAdpB,CAAH,gTAUa,SAAAO,GAAK,OAAIA,EAAMC,MAAMM,MAAME,WAI7CK,EAASrB,YAAOC,IAAOqB,KAAdtB,CAAH,kNASY,SAAAO,GAAK,OAAIA,EAAMC,MAAMC,OAGvCc,EAAe,CACjBC,OAAQ,CACJC,YAAa,GAEjBC,OAAQ,CACJD,YAAa,CAAC,EAAG,EAAG,GACpBE,YAAa,CACTC,OAAQC,OAKdC,EAAc,CAChBC,IAAK,CACDC,gBAAiB,iBAErBC,OAAQ,CACJD,gBAAiB,kBA2FVE,I,4BAAAA,EApFf,WACI,MAAoCC,oBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAYC,YAAS,KACrBC,EAAUD,YAAS,OACnBE,EAAeC,cACfC,EAAiBD,cACfE,EAAYC,cAAZD,QAaRE,qBAAU,WACNF,EAAQG,UAAS,WACTH,EAAQI,MAAQ,GAChBP,EAAaQ,MAAM,UAEnBR,EAAaQ,MAAM,YAG5B,CAACL,EAASH,IACb,IAAMS,EAAYC,cAClB,EAAmCC,cAA3BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAKlB,OACI,eAACvD,EAAD,CAAKwD,SAAUzB,EAAa0B,QAASf,EAAcgB,QAAQ,MAA3D,UACI,eAACtD,EAAD,WACI,cAACE,EAAD,CACIkD,SAAUhC,EACVmC,WAAW,SACXC,MAAM,6BACNC,MAAM,OACNC,OAAO,UACPC,QAAQ,mBANZ,SAQI,cAAC7D,EAAA,EAAO8D,KAAR,CAAaC,EAAE,m+BAEnB,eAACtD,EAAD,WACI,cAACE,EAAD,UACI,eAAC,IAAD,CAAMqD,GAAG,IAAT,kBAAmB3B,GAAa,cAACjB,EAAD,CAAQ6C,SAAS,gBAErD,cAACtD,EAAD,UACI,eAAC,IAAD,CAAMqD,GAAG,MAAT,sBAAyBzB,GAAW,cAACnB,EAAD,CAAQ6C,SAAS,sBAIjE,cAAC/D,EAAD,UACI,eAACc,EAAD,CAAQkD,SAAUb,GA3Bd,SAACc,GACbC,QAAQC,IAAIF,GACZlB,EAAU,mBAAD,OAAoBkB,EAAKG,aAyB1B,UACI,cAACtE,EAAA,EAAOK,IAAR,CACIkE,QApDC,WACbpC,EACAO,EAAeM,MAAM,CACjBwB,OAAQ,IAGZ9B,EAAeM,MAAM,CACjBwB,OAAQ,IAGhBpC,GAAc,SAAAqC,GAAI,OAAKA,MA2CPlB,QAAS,CAAEmB,EAAGvC,GAAc,IAAM,GAClCwC,WAAY,CAAEC,KAAM,UACpBC,KAAK,eACLnB,MAAM,6BACNG,QAAQ,cANZ,SAQI,sBACIiB,SAAS,UACTf,EAAE,gWAGV,cAAC7C,EAAD,2BACQkC,EAAS,UAAW,CAAE2B,UAAU,EAAMC,UAAW,KADzD,IAEIzB,QAASb,EACTiC,WAAY,CAAEC,KAAM,UACpBpB,QAAS,CAAEgB,OAAQ,GACnBS,YAAY,6C,iBClK7B,SAASC,KACZ,OAAOC,MAAM,GAAD,OAtBE,+BAsBF,sCAvBA,qCAuBsDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCvBzF,SAASC,GAAcC,EAAYC,GACtC,MAAM,8BAAN,OAAqCA,GAAkB,WAAvD,YAAqED,GCSzE,IAAME,GAAU3F,IAAOI,IAAV,oDAGPwF,GAAS5F,IAAOI,IAAV,2HAMNyF,GAAS7F,IAAOI,IAAV,oSAOuE,SAAAG,GAAK,OAAIA,EAAMuF,WAG5FC,GAAQ/F,IAAOgG,GAAV,4EAILC,GAAWjG,IAAOkG,EAAV,mEAIRC,GAASnG,IAAOI,IAAV,uEAINgG,GAAMpG,YAAOC,IAAOG,IAAdJ,CAAH,+KAQHqG,GAAMrG,YAAOC,IAAOG,IAAdJ,CAAH,kVAImB,SAAAO,GAAK,OAAIA,EAAMuF,WAUrCQ,GAAOtG,YAAOC,IAAOG,IAAdJ,CAAH,gOAEc,SAAAO,GAAK,OAAIA,EAAMC,MAAM+F,MAAMvF,WAW7CwF,GAAUxG,YAAOC,IAAOG,IAAdJ,CAAH,gKAQPyG,GAAWzG,YAAOC,IAAOG,IAAdJ,CAAH,yNAOU,SAAAO,GAAK,OAAIA,EAAMC,MAAM+F,MAAMvF,WAK7C0F,GAAW1G,IAAOI,IAAV,sNAK2D,SAAAG,GAAK,OAAIA,EAAMuF,WAElFa,GAAW3G,IAAO4G,GAAV,iIACD,SAAArG,GAAK,OAAIA,EAAMC,MAAMM,MAAME,WAMlC6F,GAAc7G,IAAOkG,EAAV,2GAGJ,SAAA3F,GAAK,OAAIA,EAAMC,MAAMM,MAAME,WAIlC8F,GAAc,CAChBC,OAAQ,CACJpC,EAAGqC,OAAOC,WAAa,GAE3BC,QAAS,CACLvC,EAAG,GAEPwC,KAAM,CACFxC,GAAIqC,OAAOC,WAAa,IAG1BG,GAAc,CAChB5F,OAAQ,CACJ6F,MAAO,GAEXC,MAAO,CACHD,MAAO,IACPE,GAAI,GACJ3C,WAAY,CACR4C,MAAO,GAEP5C,WAAY,CAAEC,KAAM,QAAS4C,SAAU,OAI7CC,GAAe,CACjBJ,MAAO,CACHK,QAAS,EACT/C,WAAY,CACR4C,MAAO,GAEP5C,WAAY,CAAEC,KAAM,QAAS4C,SAAU,OA8FpCG,OAxFf,WACI,IAAM1E,EAAYC,cACZ0E,EAAgBtF,YAAS,oBACvBK,EAAYC,cAAZD,QACR,EAA4BkF,mBAA0B,CAAC,SAAU,cAAe3C,IAAxEf,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,UACd,EAA0B5F,mBAAS,GAAnC,mBAAO6F,EAAP,KAAcC,EAAd,KACA,EAA8B9F,oBAAS,GAAvC,mBAAO+F,EAAP,KAAgBC,EAAhB,KAUMC,EAAgB,kBAAMD,GAAW,SAAAzD,GAAI,OAAKA,MAK1C2D,GACW,OAAbR,QAAa,IAAbA,OAAA,EAAAA,EAAeS,OAAOC,WAAtB,OAAiCnE,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAMoE,QAAQC,MAAK,SAAAC,GAAK,OAAIC,OAAOD,EAAMjD,MAAQoC,EAAcS,OAAOC,YAE3G,OACI,cAAC5C,GAAD,UACKoC,EACG,cAACnC,GAAD,sBAEA,qCACI,eAACC,GAAD,CAAQrB,QAvBF,WAClB,GAAIJ,EAAM,CACN,GAAI8D,EAAS,OACbE,IACA,IAAMQ,EAAcxE,EAAKoE,QAAQK,OAAS,EACpCC,EAAWC,KAAKC,MAAMJ,EAdzB,GAciD,EACpDX,GAAS,SAAAvD,GAAI,OAAKA,IAASoE,EAAW,EAAIpE,EAAO,OAiBToB,QAASN,IAAkB,OAAJpB,QAAI,IAAJA,OAAA,EAAAA,EAAMoE,QAAQ,GAAGS,gBAAiB,IAAzF,UACI,cAAClD,GAAD,iBAAQ3B,QAAR,IAAQA,OAAR,EAAQA,EAAMoE,QAAQ,GAAGU,QACzB,cAACjD,GAAD,iBAAW7B,QAAX,IAAWA,OAAX,EAAWA,EAAMoE,QAAQ,GAAGW,cAEhC,cAAChD,GAAD,UACI,cAACiD,EAAA,EAAD,CAAiB3F,SAAS,EAAO4F,eAAgBjB,EAAjD,SACI,cAAChC,GAAD,CACI7C,SAAUuD,GACVrD,QAAQ,SACRD,QAAQ,UACR2D,KAAK,OACLvC,WAAY,CAAEC,KAAM,QAAS4C,SAAU,GAL3C,gBAQKrD,QARL,IAQKA,OARL,EAQKA,EAAMoE,QACFc,MAAM,GACNA,MAhDtB,EAgDqCtB,EAhDrC,EAgDqDA,EAhDrD,GAiDsBuB,KAAI,SAAAb,GAAK,OACN,cAACrC,GAAD,CACInC,SAAUyE,OAAOD,EAAMjD,IACvBjB,QAAS,kBAjC3B+D,EAiC8CG,EAAMjD,QAhCtEvC,EAAU,WAAD,OAAYqF,IADJ,IAACA,GAkCkBhF,SAAU6D,GACV3D,QAAQ,SACRC,WAAW,QACXkB,WAAY,CAAEC,KAAM,SACpBiB,QAASN,GAAckD,EAAMO,cAAe,QAPhD,SAUI,cAAC3C,GAAD,CAAM/C,SAAUmE,GAAhB,SACI,6BAAKgB,EAAMQ,WAHVR,EAAMjD,QAdlBuC,OAwBjB,cAACoB,EAAA,EAAD,UACKvB,EACG,qCACI,cAACrB,GAAD,CAAShC,QAjDd,kBAAMtB,EAAU,MAiDuBM,QAAS,CAAEmE,QAAS,GAAKR,KAAM,CAAEQ,QAAS,KAC5E,cAAClB,GAAD,CAAUvC,SAAU2D,EAAcS,OAAOC,QAASiB,MAAO,CAAEzH,IAAKa,EAAQI,MAAQ,KAAhF,SACKqF,GACG,qCACI,cAAC3B,GAAD,CAAUZ,QAASN,GAAc6C,EAAaY,iBAC9C,cAACtC,GAAD,UAAW0B,EAAaa,QACxB,cAACrC,GAAD,UAAcwB,EAAac,mBAK3C,aCjOblI,OAPf,WACI,IAAMwI,EAAWC,cACXnF,EAAU,IAAIoF,gBAAgBF,EAASG,QAAQ5G,IAAI,WAEzD,OADAqB,QAAQC,IAAIC,GACL,MCFIsF,OAJf,WACI,OAAO,qCCoBIC,I,GAAAA,GAff,WACI,OACI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAO/F,KAAK,MAAMgG,QAAS,cAAC,GAAD,MAC3B,cAAC,IAAD,CAAOhG,KAAK,UAAUgG,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAOhG,KAAK,KAAKgG,QAAS,cAAC,GAAD,IAA1B,SACI,cAAC,IAAD,CAAOhG,KAAK,iBAAiBgG,QAAS,cAAC,GAAD,eCLpDC,GAAcC,YAAH,6+CAuDP,SAAA1J,GAAK,OAAIA,EAAMC,MAAMM,MAAMC,UAU/BmJ,GAAS,IAAIC,cAEnBC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACI,cAAC,sBAAD,CAAqBJ,OAAQA,GAA7B,SACI,eAAC,IAAD,CAAe1J,MC9EI,CAC/BC,IAAK,UACL8F,MAAO,CACHgE,SAAU,UACVxJ,OAAQ,UACRC,QAAS,WAEbF,MAAO,CACHE,QAAS,OACTD,OAAQ,YDqEA,UACI,cAACiJ,GAAD,IACA,cAAC,GAAD,aAKhBQ,SAASC,eAAe,W","file":"static/js/main.b6d5d71d.chunk.js","sourcesContent":["import { motion, useAnimation, useViewportScroll } from 'framer-motion';\r\nimport { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Link, useMatch, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst Nav = styled(motion.nav)`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 0;\r\n    background-color: black;\r\n    font-size: 14px;\r\n    padding: 20px 60px;\r\n    color: white;\r\n`;\r\nconst Col = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst Logo = styled(motion.svg)`\r\n    margin-right: 50px;\r\n    width: 95px;\r\n    height: 25px;\r\n    fill: ${props => props.theme.red};\r\n    path {\r\n        stroke-width: 6px;\r\n        stroke: white;\r\n    }\r\n`;\r\nconst Items = styled.ul`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst Item = styled.li`\r\n    margin-right: 20px;\r\n    color: ${props => props.theme.white.darker};\r\n    transition: color 0.3s ease-in-out;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    &:hover {\r\n        color: ${props => props.theme.white.lighter};\r\n    }\r\n`;\r\nconst Search = styled.form`\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    svg {\r\n        height: 25px;\r\n    }\r\n`;\r\n\r\nconst Input = styled(motion.input)`\r\n    transform-origin: right center;\r\n    position: absolute;\r\n    right: 0px;\r\n    padding: 5px 10px;\r\n    padding-left: 40px;\r\n    z-index: -1;\r\n    color: white;\r\n    font-size: 16px;\r\n    background-color: transparent;\r\n    border: 1px solid ${props => props.theme.white.lighter};\r\n    border-radius: 4px;\r\n`;\r\n\r\nconst Circle = styled(motion.span)`\r\n    position: absolute;\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 5px;\r\n    bottom: -8px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: 0 auto;\r\n    background-color: ${props => props.theme.red};\r\n`;\r\n\r\nconst logoVariants = {\r\n    normal: {\r\n        fillOpacity: 1,\r\n    },\r\n    active: {\r\n        fillOpacity: [0, 1, 0],\r\n        transtition: {\r\n            repeat: Infinity,\r\n        },\r\n    },\r\n};\r\n\r\nconst navVariants = {\r\n    top: {\r\n        backgroundColor: 'rgba(0,0,0,0)',\r\n    },\r\n    scroll: {\r\n        backgroundColor: 'rgba(0,0,0,1)',\r\n    },\r\n};\r\ninterface IForm {\r\n    keyword: string;\r\n}\r\n\r\nfunction Header() {\r\n    const [searchOpen, setSearchOpen] = useState(false);\r\n    const homeMatch = useMatch('/');\r\n    const tvMatch = useMatch('/tv');\r\n    const navAnimation = useAnimation();\r\n    const inputAnimation = useAnimation();\r\n    const { scrollY } = useViewportScroll();\r\n    const toggleSearch = () => {\r\n        if (searchOpen) {\r\n            inputAnimation.start({\r\n                scaleX: 0,\r\n            });\r\n        } else {\r\n            inputAnimation.start({\r\n                scaleX: 1,\r\n            });\r\n        }\r\n        setSearchOpen(prev => !prev);\r\n    };\r\n    useEffect(() => {\r\n        scrollY.onChange(() => {\r\n            if (scrollY.get() > 80) {\r\n                navAnimation.start('scroll');\r\n            } else {\r\n                navAnimation.start('top');\r\n            }\r\n        });\r\n    }, [scrollY, navAnimation]);\r\n    const navigator = useNavigate();\r\n    const { register, handleSubmit } = useForm<IForm>();\r\n    const onValid = (data: IForm) => {\r\n        console.log(data);\r\n        navigator(`/search?keyword=${data.keyword}`);\r\n    };\r\n    return (\r\n        <Nav variants={navVariants} animate={navAnimation} initial=\"top\">\r\n            <Col>\r\n                <Logo\r\n                    variants={logoVariants}\r\n                    whileHover=\"active\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"1024\"\r\n                    height=\"276.742\"\r\n                    viewBox=\"0 0 1024 276.742\"\r\n                >\r\n                    <motion.path d=\"M140.803 258.904c-15.404 2.705-31.079 3.516-47.294 5.676l-49.458-144.856v151.073c-15.404 1.621-29.457 3.783-44.051 5.945v-276.742h41.08l56.212 157.021v-157.021h43.511v258.904zm85.131-157.558c16.757 0 42.431-.811 57.835-.811v43.24c-19.189 0-41.619 0-57.835.811v64.322c25.405-1.621 50.809-3.785 76.482-4.596v41.617l-119.724 9.461v-255.39h119.724v43.241h-76.482v58.105zm237.284-58.104h-44.862v198.908c-14.594 0-29.188 0-43.239.539v-199.447h-44.862v-43.242h132.965l-.002 43.242zm70.266 55.132h59.187v43.24h-59.187v98.104h-42.433v-239.718h120.808v43.241h-78.375v55.133zm148.641 103.507c24.594.539 49.456 2.434 73.51 3.783v42.701c-38.646-2.434-77.293-4.863-116.75-5.676v-242.689h43.24v201.881zm109.994 49.457c13.783.812 28.377 1.623 42.43 3.242v-254.58h-42.43v251.338zm231.881-251.338l-54.863 131.615 54.863 145.127c-16.217-2.162-32.432-5.135-48.648-7.838l-31.078-79.994-31.617 73.51c-15.678-2.705-30.812-3.516-46.484-5.678l55.672-126.75-50.269-129.992h46.482l28.377 72.699 30.27-72.699h47.295z\" />\r\n                </Logo>\r\n                <Items>\r\n                    <Item>\r\n                        <Link to=\"/\">Home {homeMatch && <Circle layoutId=\"circle\"></Circle>}</Link>\r\n                    </Item>\r\n                    <Item>\r\n                        <Link to=\"/tv\">Tv shows {tvMatch && <Circle layoutId=\"circle\"></Circle>}</Link>\r\n                    </Item>\r\n                </Items>\r\n            </Col>\r\n            <Col>\r\n                <Search onSubmit={handleSubmit(onValid)}>\r\n                    <motion.svg\r\n                        onClick={toggleSearch}\r\n                        animate={{ x: searchOpen ? -215 : 0 }}\r\n                        transition={{ type: 'linear' }}\r\n                        fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        viewBox=\"0 0 512 512\"\r\n                    >\r\n                        <path\r\n                            fillRule=\"evenodd\"\r\n                            d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\r\n                        ></path>\r\n                    </motion.svg>\r\n                    <Input\r\n                        {...register('keyword', { required: true, minLength: 2 })}\r\n                        animate={inputAnimation}\r\n                        transition={{ type: 'linear' }}\r\n                        initial={{ scaleX: 0 }}\r\n                        placeholder=\"Search for movie or tv show...\"\r\n                    ></Input>\r\n                </Search>\r\n            </Col>\r\n        </Nav>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","const API_KEY = '520945fdf6771d8cc071cc16fd185649';\r\nconst BASE_PATH = 'https://api.themoviedb.org/3';\r\n\r\ninterface IMovie {\r\n    backdrop_path: string;\r\n    id: number;\r\n    overview: string;\r\n    poster_path: string;\r\n    title: string;\r\n}\r\n\r\nexport interface IGetMovieResult {\r\n    dates: {\r\n        maximum: string;\r\n        minimum: string;\r\n    };\r\n    page: number;\r\n    results: IMovie[];\r\n    total_pages: number;\r\n    total_results: number;\r\n}\r\n\r\nexport function getMovies() {\r\n    return fetch(`${BASE_PATH}/movie/now_playing?api_key=${API_KEY}`).then(response => response.json());\r\n}\r\n","export function makeImagePath(id: string, format?: string) {\r\n    return `https://image.tmdb.org/t/p/${format ? format : 'original'}/${id}`\r\n}\r\n","import { motion, AnimatePresence, useViewportScroll } from 'framer-motion';\r\nimport { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useMatch } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { getMovies, IGetMovieResult } from '../api';\r\nimport { makeImagePath } from '../utils';\r\n\r\nconst Wrapper = styled.div`\r\n    background: black;\r\n`;\r\nconst Loader = styled.div`\r\n    height: 20vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\nconst Banner = styled.div<{ bgPhoto: string }>`\r\n    height: 100vh;\r\n    background-color: red;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    padding: 60px;\r\n    background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8)), url(${props => props.bgPhoto});\r\n    background-size: cover;\r\n`;\r\nconst Title = styled.h2`\r\n    font-size: 68px;\r\n    margin-bottom: 20px;\r\n`;\r\nconst Overview = styled.p`\r\n    font-size: 30px;\r\n    width: 50%;\r\n`;\r\nconst Slider = styled.div`\r\n    position: relative;\r\n    top: -100px;\r\n`;\r\nconst Row = styled(motion.div)`\r\n    display: grid;\r\n    gap: 5px;\r\n    grid-template-columns: repeat(6, 1fr);\r\n    margin-bottom: 5px;\r\n    position: absolute;\r\n    width: 100%;\r\n`;\r\nconst Box = styled(motion.div)<{ bgPhoto: string }>`\r\n    background-color: none;\r\n    height: 200px;\r\n    font-size: 30px;\r\n    background-image: url(${props => props.bgPhoto});\r\n    background-size: cover;\r\n    background-position: center center;\r\n    &:first-child {\r\n        transform-origin: center left;\r\n    }\r\n    &:last-child {\r\n        transform-origin: center right;\r\n    }\r\n`;\r\nconst Info = styled(motion.div)`\r\n    padding: 20px;\r\n    background-color: ${props => props.theme.black.lighter};\r\n    opacity: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 100%;\r\n    h4 {\r\n        text-align: center;\r\n        font-size: 18px;\r\n    }\r\n`;\r\n\r\nconst Overlay = styled(motion.div)`\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    opacity: 0;\r\n`;\r\nconst BigMovie = styled(motion.div)`\r\n    position: absolute;\r\n    width: 60vw;\r\n    height: 80vh;\r\n    left: 0;\r\n    right: 0;\r\n    margin: 0 auto;\r\n    background-color: ${props => props.theme.black.lighter};\r\n    border-radius: 15px;\r\n    overflow: hidden;\r\n`;\r\n\r\nconst BigCover = styled.div<{ bgPhoto: string }>`\r\n    width: 100%;\r\n    height: 400px;\r\n    background-size: cover;\r\n    background-position: center center;\r\n    background-image: linear-gradient(to top, black, transparent), url(${props => props.bgPhoto});\r\n`;\r\nconst BigTitle = styled.h3`\r\n    color: ${props => props.theme.white.lighter};\r\n    font-size: 36px;\r\n    position: relative;\r\n    top: -60px;\r\n    padding: 20px;\r\n`;\r\nconst BigOverview = styled.p`\r\n    position: relative;\r\n    padding: 20px;\r\n    color: ${props => props.theme.white.lighter};\r\n    top: -80px;\r\n`;\r\n\r\nconst rowVariants = {\r\n    hidden: {\r\n        x: window.innerWidth + 5,\r\n    },\r\n    visible: {\r\n        x: 0,\r\n    },\r\n    exit: {\r\n        x: -window.innerWidth - 5,\r\n    },\r\n};\r\nconst BoxVariants = {\r\n    normal: {\r\n        scale: 1,\r\n    },\r\n    hover: {\r\n        scale: 1.3,\r\n        y: -10,\r\n        transition: {\r\n            delay: 0.5,\r\n\r\n            transition: { type: 'tween', duration: 0.3 },\r\n        },\r\n    },\r\n};\r\nconst InfoVarinats = {\r\n    hover: {\r\n        opacity: 1,\r\n        transition: {\r\n            delay: 0.5,\r\n\r\n            transition: { type: 'tween', duration: 0.3 },\r\n        },\r\n    },\r\n};\r\nconst offset = 6;\r\n\r\nfunction Home() {\r\n    const navigator = useNavigate();\r\n    const bigMovieMatch = useMatch('/movies/:movieId');\r\n    const { scrollY } = useViewportScroll();\r\n    const { data, isLoading } = useQuery<IGetMovieResult>(['movies', 'nowPlaying'], getMovies);\r\n    const [index, setIndex] = useState(0);\r\n    const [leaving, setLeaving] = useState(false);\r\n    const increaseIndex = () => {\r\n        if (data) {\r\n            if (leaving) return;\r\n            toggleLeaving();\r\n            const totalMovies = data.results.length - 1;\r\n            const maxIndex = Math.floor(totalMovies / offset) - 1;\r\n            setIndex(prev => (prev === maxIndex ? 0 : prev + 1));\r\n        }\r\n    };\r\n    const toggleLeaving = () => setLeaving(prev => !prev);\r\n    const onBoxClicked = (movieId: number) => {\r\n        navigator(`/movies/${movieId}`);\r\n    };\r\n    const onOverlayClick = () => navigator('/');\r\n    const clickedMovie =\r\n        bigMovieMatch?.params.movieId && data?.results.find(movie => String(movie.id) === bigMovieMatch.params.movieId);\r\n\r\n    return (\r\n        <Wrapper>\r\n            {isLoading ? (\r\n                <Loader>Loading</Loader>\r\n            ) : (\r\n                <>\r\n                    <Banner onClick={increaseIndex} bgPhoto={makeImagePath(data?.results[0].backdrop_path || '')}>\r\n                        <Title>{data?.results[0].title}</Title>\r\n                        <Overview>{data?.results[0].overview}</Overview>\r\n                    </Banner>\r\n                    <Slider>\r\n                        <AnimatePresence initial={false} onExitComplete={toggleLeaving}>\r\n                            <Row\r\n                                variants={rowVariants}\r\n                                initial=\"hidden\"\r\n                                animate=\"visible\"\r\n                                exit=\"exit\"\r\n                                transition={{ type: 'tween', duration: 1 }}\r\n                                key={index}\r\n                            >\r\n                                {data?.results\r\n                                    .slice(1)\r\n                                    .slice(offset * index, offset * index + offset)\r\n                                    .map(movie => (\r\n                                        <Box\r\n                                            layoutId={String(movie.id)}\r\n                                            onClick={() => onBoxClicked(movie.id)}\r\n                                            variants={BoxVariants}\r\n                                            initial=\"normal\"\r\n                                            whileHover=\"hover\"\r\n                                            transition={{ type: 'tween' }}\r\n                                            bgPhoto={makeImagePath(movie.backdrop_path, 'w500')}\r\n                                            key={movie.id}\r\n                                        >\r\n                                            <Info variants={InfoVarinats}>\r\n                                                <h4>{movie.title}</h4>\r\n                                            </Info>\r\n                                        </Box>\r\n                                    ))}\r\n                            </Row>\r\n                        </AnimatePresence>\r\n                    </Slider>\r\n                    <AnimatePresence>\r\n                        {bigMovieMatch ? (\r\n                            <>\r\n                                <Overlay onClick={onOverlayClick} animate={{ opacity: 1 }} exit={{ opacity: 0 }} />\r\n                                <BigMovie layoutId={bigMovieMatch.params.movieId} style={{ top: scrollY.get() + 100 }}>\r\n                                    {clickedMovie && (\r\n                                        <>\r\n                                            <BigCover bgPhoto={makeImagePath(clickedMovie.backdrop_path)} />\r\n                                            <BigTitle>{clickedMovie.title}</BigTitle>\r\n                                            <BigOverview>{clickedMovie.overview}</BigOverview>\r\n                                        </>\r\n                                    )}\r\n                                </BigMovie>\r\n                            </>\r\n                        ) : null}\r\n                    </AnimatePresence>\r\n                </>\r\n            )}\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import { useLocation } from 'react-router-dom';\r\n\r\nfunction Search() {\r\n    const location = useLocation();\r\n    const keyword = new URLSearchParams(location.search).get('keyword');\r\n    console.log(keyword);\r\n    return null;\r\n}\r\n\r\nexport default Search;\r\n","function Tv() {\r\n    return <h1>TV</h1>\r\n}\r\n\r\nexport default Tv\r\n","import { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport Header from './Components/Header';\nimport Home from './Routes/Home';\nimport Search from './Routes/Search';\nimport Tv from './Routes/Tv';\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <Header />\n            <Routes>\n                <Route path=\"/tv\" element={<Tv />}></Route>\n                <Route path=\"/search\" element={<Search />}></Route>\n                <Route path=\"/*\" element={<Home />}>\n                    <Route path=\"movie/:movieId\" element={<Home />} />\n                </Route>\n            </Routes>\n        </BrowserRouter>\n    );\n}\n// path 가 / 인 route 는 맨 아래에 두어야함 안그러면 다른 route 눌러도 / 가 존재하니까 router가 일치하는 부분을 찾아내서 url 만 이동함\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { RecoilRoot } from 'recoil';\nimport { ThemeProvider } from 'styled-components';\nimport App from './App';\nimport { theme } from './theme';\nimport { QueryClient, QueryClientProvider, useQuery } from 'react-query';\nimport { createGlobalStyle } from 'styled-components';\nimport React from 'react';\n\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap');\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n* {\n  box-sizing: border-box;\n}\nbody {\n  font-weight: 300;\n  font-family: 'Source Sans Pro', sans-serif;\n  color:${props => props.theme.white.darker};\n  line-height: 1.2;\n  background-color : black;\n}\na {\n  text-decoration:none;\n  color:inherit;\n}\n`;\n\nconst client = new QueryClient();\n\nReactDOM.render(\n    <React.StrictMode>\n        <RecoilRoot>\n            <QueryClientProvider client={client}>\n                <ThemeProvider theme={theme}>\n                    <GlobalStyle />\n                    <App />\n                </ThemeProvider>\n            </QueryClientProvider>\n        </RecoilRoot>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n","import { DefaultTheme } from \"styled-components\";\r\n\r\nexport const theme: DefaultTheme = {\r\n    red: \"#E51013\",\r\n    black: {\r\n        veryDark: \"#141414\",\r\n        darker: \"#181818\",\r\n        lighter: \"#2F2F2F\",\r\n    },\r\n    white: {\r\n        lighter: \"#fff\",\r\n        darker: \"#e5e5e5\",\r\n    },\r\n};"],"sourceRoot":""}